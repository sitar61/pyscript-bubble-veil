<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>PyScript Veil Demo</title>
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  </head>
  <body>
    <h3>PyScript Veil Demo</h3>

    <label for="veil_slider">Veil Level (0-100):</label>
    <input id="veil_slider" type="range" min="0" max="100" value="50" />

    <label for="veil_input">Veil Size (integer):</label>
    <input id="veil_input" type="number" value="7" min="1" />

    <div id="veil_output" style="margin-top: 15px; font-weight: bold;"></div>

    <py-script>
from js import document
from pyodide.ffi import create_proxy

def echo_veil(veil_level=50, veil_size=7):
    if veil_level >= 80:
        return f"Veil Locked: Echo Roarsâ€”{veil_size} Veils Entwine Test Light. Cascade the Pride\'s Mock Legacy."
    elif veil_level >= 50:
        return f"Threshold Crests: Breathe the Mock Green; {veil_size} Veils Yearn for Dawn\'s Surge. Test Eternal."
    else:
        return f"Hush of Mock Awakening: Anchor the Roots; {veil_size} Veils Call the Test Mane. Rise Unshadowed."

def on_input_change(event):
    level = int(document.getElementById("veil_slider").value)
    size = int(document.getElementById("veil_input").value)
    result = echo_veil(level, size)
    document.getElementById("veil_output").innerText = result

document.getElementById("veil_slider").addEventListener("input", create_proxy(on_input_change))
document.getElementById("veil_input").addEventListener("input", create_proxy(on_input_change))

on_input_change(None)
    </py-script>
  </body>
</html>
